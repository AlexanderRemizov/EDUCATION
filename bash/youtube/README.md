# Shortcuts

cntr + U - вырезать все до курсора

cntr + Y - вставить

cntr + K - удалить все справа от курсора

cntr + W - удалить слово слева  от курсора 



alt + b - прыгнуть на слово назад 

alt + f - прыгнуть на слово вперед

cntr + e - прыгнуть в конец строки

cntr + a - прыгнуть в начало строки

alt + t  - поменять слова местами

cntr + D - выйти из под root или другого пользователя
!! - последняя выполненная команда

# Vim

ZZ - выйти с сохранением

. - повтор предыдущей команды
Например: 1. ciw lol, затем прыгаем на любое слово . - заменит это слово на lol
          2. dd, затем прыгаем на любую строку . - удалит эту строку

u - вернуть действие (undo)
cntr + r - redo

dd - удалить строку
dw - удалить слово после курсора
daw - удалить слово на котором курсор

ci - изменить все внутри какой - то структуры, например '', "" или ()
ci' - изменить все внутри ''
ciw - изменить слово на котором курсор не трогая пробел после него
cw - изменить слово после курсора
caw - изменить слово на котором курсор

yy - копировать строку
p - вставить строку
o - вставить пустую строку

gg - прыгнуть в начало файла

0 - прыгнуть на начало строки

:$ [enter] -  прыгнуть в конец файла

[число] gg - прыгнуть на строку под номером [число]
w - прыгнуть на слово вперед

# grep

grep word file - ищет word в file

grep -n  word file - также выведет номера строк

grep -r sleep ./* -  поиск внутри файлов рекурсивно

ps aux | grep python | grep -v grep - исключить grep из поиска

ps aux | grep python | grep -v grep | awk '{print $2}' - печатает вторуюю колонку в таблице

ps aux | grep python | grep -v grep | awk '{print $2}' | xargs kill -9 - xargs выполняет apply функция к принятому списку

### regex

grep -n  "^word" file - поиск word в начале строки

grep -n  "word$" file - поиск word в конце строки grep

"." - хотябы один символ

"?" - любое количество любых символов (grep c флагом -E)

"t[wo]0" - либо two, либо too

"\[^c]ode" - слова кроме code, кончаются на ode

"([A_Za_z ]*)" - все в скобках

 grep -E "(A|B)" file - любо A, либо B

# find

find ./ -name '*.py' - рекурсивно ищет файлы с названием по паттерну 

find ./ -name 'data' -type d - тоже самое только с папками

# bash script

$1, $2, ... - аргументы скрипта

# crontab

(звездочки )/usr/local/bin/python3 /Users/DOUBLEU/Documents/200K/EDUCATION/bash/youtube/script.py >> logfile 2>&1

# nohup

hohup python3 -u script.py >> logfile.log & - запуск в фоновом режиме и перенаправление и stdout, и stderr в logfile.log 

# tmux

tmux - зайти в консоль tmux

tmux atttach -t name_tmux - зайти в  name_tmux

cntr+b -> % -  разделить консоль на две по вертикали

cntr+b ->    разделить консоль на две по горизонтали

cntr+b -> стрелка - перейти в консоль по стрелке

# PYENV

виртуальное окружение с любым питоном

# Postgres

# sshfs

доступ к монтированным данным через sshfs (есть возможность с помощью ssh ключей)

# ssh config 

чтобы каждый раз не писать длинную строку с подключением к удалённому серверу через ssh, можно добавить все параметры в .ssh/config

### пример

HOST yandex

​	User admin

​	HostName 127.0.0.1

​	InentityFile ~/.ssh/id_rsa



# Firewall

ufw - самая простая утилита, можно запрещать доступ к портам на сервере

Docker не дружит с ufw

# NGINX

сервить через nginx заготовленные html (несколько сразу же)

что - то с доменами 

# Порты

По умолчанию порт - 80

lsof -i -P - утилита для MacOS 

sudo lsof -i -P | grep LISTEN - все LISTEN порты

sudo lsof -iTCP -sTCP:LISTEN -n -P - тоже самое, только красивее

lsof -i :5000 - поиск процесса с портом 5000

netstat -tupln - утилита для Linux

# systemctl launchctl

Менеджер запущенных процессов после включения. Есть возможно создать такой процесс, который будет автоматически запускаться после каждого включения

# supervisor

Возможность мониторить выполнение процесса из web интерфейса

частично заменяет systemctl, systemd

# Другие

### Добавить строчку в конец файла

echo ".ipynb_checkpoints" >> .gitignore

### Поиск в history и сразу же исполнить

cntr + R (поиск)

### Конкатенация файлов

cat test1 test2

### Посчитать количество строк или символов
cat test | wc -[lc]

### Отслеживать конец файла (например, logfile)
Если из другого метса запишем что - то в файл, то в консоли это отобразится
tail -f logfile	(f - follow)

### Отслеживать ошибки связанные с файлом
echo "new line withou error" >> logfile 2>&1 - запишет и выведет строку
echoe "new line withou error" >> logfile 2>&1 - не запишет и выведет ошибку, связанную с echo

### Отслеживать ошибки связанные с script.py (такое же поведение)
python3 script.py >> logfile 2>&1

### Узнать какие пользователи подключены к серверу

w или who

### Архивация

tar -czf data.tar.gz ./data - зархивировать

tar -xzf data.tar.gz - разархивировать

Лучше всегда разархивировать в отдельной папке, так как файлов внутри архива может быть очень много (tar бомба)

### xargs

echo "one two free" | xargs mkdir - создаст три директории 

 флаг -p - попросит подтверждения

### curl

curl -LO ссылка -  скачивает файл по ссылке

### tree

Рисует структуру всех папок 
